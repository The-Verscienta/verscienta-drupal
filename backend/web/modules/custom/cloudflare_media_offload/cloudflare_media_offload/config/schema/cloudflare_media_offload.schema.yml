cloudflare_media_offload.settings:
  type: config_object
  label: 'Cloudflare Media Offload settings'
  mapping:
    api_key:
      type: string
      label: 'Key entity ID for Cloudflare API token'
    account_id:
      type: string
      label: 'Key entity ID for Cloudflare Account ID'
    account_hash:
      type: string
      label: 'Key entity ID for Cloudflare Account Hash'
    enabled_bundles:
      type: sequence
      label: 'Media bundles to offload'
      sequence:
        type: string
        label: 'Bundle ID'
    upload_limits:
      type: mapping
      label: 'Upload limits'
      mapping:
        max_file_size:
          type: integer
          label: 'Maximum file size in MB'
        supported_formats:
          type: sequence
          label: 'Supported image formats'
          sequence:
            type: string
            label: 'Format'
    auto_optimization:
      type: boolean
      label: 'Enable automatic image optimization'
    bulk_upload_enabled:
      type: boolean
      label: 'Enable bulk upload functionality'
    fallback_to_local:
      type: boolean
      label: 'Fallback to local storage on API failure'
    retry_attempts:
      type: integer
      label: 'Number of retry attempts for failed uploads'
    webhook_secret:
      type: string
      label: 'Webhook secret for Cloudflare notifications'
    cache_ttl:
      type: integer
      label: 'Cache TTL for Cloudflare URLs in seconds'

cloudflare_media_offload.variants:
  type: config_object
  label: 'Cloudflare Media Offload variants'
  mapping:
    variants:
      type: sequence
      label: 'Image variants'
      sequence:
        type: mapping
        label: 'Variant'
        mapping:
          enabled:
            type: boolean
            label: 'Enabled'
          machine_name:
            type: string
            label: 'Machine name'
          label:
            type: string
            label: 'Label'
          width:
            type: integer
            label: 'Width'
          height:
            type: integer
            label: 'Height'
          fit:
            type: string
            label: 'Fit mode'
          gravity:
            type: string
            label: 'Gravity'
          quality:
            type: integer
            label: 'Quality'
          format:
            type: string
            label: 'Format'