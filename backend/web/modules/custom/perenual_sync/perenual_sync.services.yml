services:
  perenual_sync.rate_limiter:
    class: Drupal\perenual_sync\PerenualRateLimiter
    arguments: ['@state']

  perenual_sync.field_mapper:
    class: Drupal\perenual_sync\PerenualFieldMapper
    arguments: ['@entity_type.manager']

  perenual_sync.image_handler:
    class: Drupal\perenual_sync\PerenualImageHandler
    arguments: ['@file_system', '@entity_type.manager', '@logger.factory', '@file.repository']

  perenual_sync.service:
    class: Drupal\perenual_sync\PerenualSyncService
    arguments:
      - '@http_client'
      - '@config.factory'
      - '@entity_type.manager'
      - '@logger.factory'
      - '@state'
      - '@key.repository'
      - '@perenual_sync.rate_limiter'
      - '@perenual_sync.field_mapper'
      - '@perenual_sync.image_handler'
